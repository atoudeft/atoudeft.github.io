
/* Thème de base — inspiré du style fourni (variables et sémantique proches) */
:root{
  --bg:#ffffff;
  --text:#111111;
  --muted:#444444;
  --accent:#0b5ed7;
  --border:#e5e7eb;

  --sidebar-bg:#f7f7f7;
  --active-bg:#eaf2ff;
  --active-bd:#cfe2ff;

  /* Panneau principal */
  --main-bg: var(--bg);
  --main-text:#0e0f13;
  --main-heading:#07090c;

  /* Couleurs de la nav gauche */
  --nav-heading:#0b0e12;
  --nav-link:#0e0f13;
  --nav-active:#0a0d10;

  /* Recherche */
  --search-bg:#ffffff;
  --search-text:#0e0f13;
  --search-placeholder:#6b7280;

  /* Surlignage / indicateurs */
  --hl-bg:#fff199;
  --hl-bd:#e0c200;
  --active-indicator: 4px;

  /* Largeur sidebar */
  --sidebar-w: 300px;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* ========== Entête ========== */
.site-header, header.site{
  display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;
  border-bottom:1px solid var(--border);position:sticky;top:0;background:var(--bg);z-index:20
}
.site-header h1{margin:0;font-size:1.125rem;font-weight:600}
.brand-icon{flex:0 0 auto;display:inline-block}
.nav-toggle{margin-left:auto;display:none;border:1px solid var(--border);background:#fff;border-radius:.5rem;padding:.25rem .5rem}

/* ========== Grille ========== */
.layout{display:grid;grid-template-columns:var(--sidebar-w) 1fr;min-height:calc(100vh - 60px);}
/* Compat: certaines pages n'ont pas .site-header mais une grille plein écran */
.layout:has(aside#sidebar){min-height:100vh}

/* ========== Sidebar (double ciblage) ========== */
.sidebar, aside#sidebar{
  border-right:1px solid var(--border);
  background:var(--sidebar-bg);
  padding:1rem;
  position:sticky;top:60px;align-self:start;
  height:calc(100vh - 60px);
  overflow:auto;
}
/* Si pas d'en-tête sticky présent */
body:has(aside#sidebar) aside#sidebar{ top:0; height:100vh; }

/* Recherche dans la nav */
.nav-search{position:sticky;top:0;background:var(--sidebar-bg);padding-bottom:.5rem;margin-bottom:.75rem;z-index:5}
#nav-search-input{width:100%;padding:.5rem .75rem;border:1px solid var(--border);border-radius:.5rem;background:var(--search-bg);color:var(--search-text)}
#nav-search-input::placeholder{color:var(--search-placeholder)}
#nav-search-clear{position:absolute;right:1.25rem;top:.55rem;border:none;background:transparent;font-size:1.1rem;line-height:1;cursor:pointer;color:var(--muted)}
#nav-search-input::-webkit-search-cancel-button{ -webkit-appearance:none; appearance:none; display:none; }
#nav-search-input::-webkit-search-decoration,
#nav-search-input::-webkit-search-results-button,
#nav-search-input::-webkit-search-results-decoration{ display:none; }
#nav-search-input::-ms-clear{ display:none; width:0; height:0; }

/* Groupes et titres */
.nav-group{margin:0 0 .75rem 0}
.nav-group-title{font-weight:700;color:var(--nav-heading);margin:.5rem .25rem;transition:color .15s ease}
.nav-group.is-active > .nav-group-title{
  color: var(--accent);
  border-left: 3px solid var(--accent);
  padding-left: .5rem;
}

/* Listes (compat: .nav-list/.nav-sub ET nav.menu) */
.nav-list,.nav-sub{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.25rem}
.nav-sub{margin:.25rem 0 .5rem 1.25rem;gap:.15rem}
nav.menu ul{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.25rem}
nav.menu ul ul{margin:.25rem 0 .5rem 1.1rem;gap:.15rem}

/* Liens nav (double ciblage) */
.sidebar a[data-section], aside#sidebar .menu a, aside#sidebar a{
  display:block;
  padding:.5rem .75rem;
  border-radius:.5rem;
  color:var(--nav-link);
  position:relative;
  transition:background .12s ease, color .12s ease;
}
.sidebar a[data-section]:focus-visible,
aside#sidebar .menu a:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.sidebar a[data-section]:hover,
aside#sidebar .menu a:hover{background:rgba(11,94,215,0.06)}

/* État actif */
.sidebar a[data-section][aria-current="page"],
aside#sidebar .menu a.active{
  background:var(--active-bg);
  border:1px solid var(--active-bd);
  color:var(--nav-active);
  font-weight:700;
}
.sidebar a[data-section][aria-current="page"]::before,
aside#sidebar .menu a.active::before{
  content:""; position:absolute; left:-.75rem; top:.25rem; bottom:.25rem;
  width:var(--active-indicator); background:var(--accent); border-radius:999px;
}

/* ========== Panneau de contenu ========== */
.content-area, main#content{
  padding:1rem 1.25rem;
  background:var(--main-bg);
  color:var(--main-text);
}
.content, main#content{ padding:1rem 0; background:transparent; border:0; box-shadow:none; color:var(--main-text) }
.content h1,.content h2,.content h3, main#content h1, main#content h2, main#content h3{margin-top:1.25rem;color:var(--main-heading);font-weight:700}
.content p,.content li,.content td,.content th,.content code, main#content p, main#content li{color:var(--main-text)}
.content a, main#content a{color:var(--accent); text-decoration:underline}

/* Tableaux */
.content table, main#content table{width:100%;border-collapse:collapse;margin:.75rem 0}
.content table td,.content table th, main#content table td, main#content table th{border:1px solid var(--border);padding:.5rem .6rem}

/* Callout / Footer */
.callout{border:1px dashed var(--border);background:#fff8e1;padding:.75rem 1rem;border-radius:.5rem;margin-bottom:1rem;color:var(--main-text)}
.site-footer{border-top:1px solid var(--border);color:var(--muted);text-align:center;padding:1rem;margin-top:1rem}

/* Mobile */
@media (max-width: 900px){
  .layout{grid-template-columns:1fr}
  .sidebar, aside#sidebar{
    position:fixed; top:56px; left:0; right:0; height:auto; max-height:60vh; display:none;
    box-shadow:0 10px 20px rgba(0,0,0,.08)
  }
  .sidebar[aria-expanded="true"], aside#sidebar.open{display:block}
  .nav-toggle{display:inline-block}
}
